@using Octokit
@implements IDisposable

@page "/"

<MudTextField @bind-Value="@Settings.GitHubToken"
			  Label="@nameof(Settings.GitHubToken)" Variant="Variant.Outlined" />

<MudTextField @bind-Value="@Settings.GitHubUser"
			  Label="@nameof(Settings.GitHubUser)" Variant="Variant.Outlined" />

<MudTextField @bind-Value="@Settings.GitHubRepo"
			  Label="@nameof(Settings.GitHubRepo)" Variant="Variant.Outlined" />

<MudButton OnClick="_getUserAsync" Variant="Variant.Outlined">Get User</MudButton>
<MudButton OnClick="_getCommitsAsync" Variant="Variant.Outlined">Get commits</MudButton>
<br />
<MudImage Src="@_user?.AvatarUrl" />
<br />
@foreach(var commit in _commits)
{
	<MudText>@commit.Commit.Message (@commit.Author.Login) : @commit.Url</MudText>
}